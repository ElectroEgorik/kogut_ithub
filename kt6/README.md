# Описание проделанной работы

Настройка среды

Развернул HDFS и Hive на Docker.

Создал необходимые директории в HDFS и переместил туда CSV-файлы датасета.

Создание базы данных и таблиц

Создана база olist_db.

Созданы внешние таблицы Hive для всех CSV-файлов: orders, order_items, customers, products, sellers, payments, reviews.

Таблицы подключены к данным в HDFS через EXTERNAL TABLE.

Анализ данных с использованием HiveQL

Подсчитано количество заказов по статусам.

Определено среднее время доставки (разница между order_purchase_timestamp и order_delivered_customer_date).

Проведен анализ продаж: топ-5 продуктов по количеству заказов и средний рейтинг по категориям продуктов.

Оптимизация производительности

Таблицы преобразованы в формат Parquet для ускорения чтения.

Добавлено партиционирование по статусу заказа и по датам, что уменьшило объем сканируемых данных и ускорило запросы.


# Отчет

Данные на диске
1

## Данные на диске
![картинка](../.pics/kt6_1.png)

## Загрузка на hdfs
![картинка](../.pics/kt6_2.png)
![картинка](../.pics/kt6_3.png)

## Проверка на hdfs
![картинка](../.pics/kt6_4.png)

## Перемещение по папкам
![картинка](../.pics/kt6_7.png)
![картинка](../.pics/kt6_8.png)

## Hive в compose
![картинка](../.pics/kt6_5.png)

## Подключение внутри контейнера и создание бд
![картинка](../.pics/kt6_6.png)

## Создание табличек в hive ссылающиеся на hdfs
![картинка](../.pics/kt6_9.png)
![картинка](../.pics/kt6_10.png)
![картинка](../.pics/kt6_11.png)
![картинка](../.pics/kt6_12.png)
![картинка](../.pics/kt6_13.png)
![картинка](../.pics/kt6_14.png)
![картинка](../.pics/kt6_15.png)

## Проверка таблички
![картинка](../.pics/kt6_16.png)

## Количество заказов в каждом статусе
![картинка](../.pics/kt6_17.png)
![картинка](../.pics/kt6_18.png)

## Среднее время доставки
![картинка](../.pics/kt6_19.png)
![картинка](../.pics/kt6_20.png)

## Топ-5 самых продаваемых продуктов по количеству заказов
![картинка](../.pics/kt6_26.png)
![картинка](../.pics/kt6_27.png)

## Оптимизация производительности
![картинка](../.pics/kt6_21.png)
![картинка](../.pics/kt6_22.png)
![картинка](../.pics/kt6_23.png)
![картинка](../.pics/kt6_24.png)
![картинка](../.pics/kt6_25.png)
